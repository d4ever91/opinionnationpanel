(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{979:function(t,n,e){"use strict";e.d(n,{BZ:function(){return h},II:function(){return d},xH:function(){return E}});var r=e(7294),i=e(3234),a=e(2067),u=e(4520),s=e(5336),o=e(8387),c=e(4031),p=e(6076),d=(0,a.Gp)((function(t,n){const{htmlSize:e,...o}=t,c=(0,a.jC)("Input",o),p=(0,u.Lr)(o),d=(0,i.Yp)(p),l=(0,s.cx)("chakra-input",t.className);return r.createElement(a.m$.input,{size:e,...d,__css:c.field,ref:n,className:l})}));d.displayName="Input",d.id="Input";var[l,f]=(0,o.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),h=(0,a.Gp)((function(t,n){const e=(0,a.jC)("Input",t),{children:i,className:o,...d}=(0,u.Lr)(t),f=(0,s.cx)("chakra-input__group",o),h={},m=(0,c.W)(i),v=e.field;m.forEach((t=>{e&&(v&&"InputLeftElement"===t.type.id&&(h.paddingStart=v.height??v.h),v&&"InputRightElement"===t.type.id&&(h.paddingEnd=v.height??v.h),"InputRightAddon"===t.type.id&&(h.borderEndRadius=0),"InputLeftAddon"===t.type.id&&(h.borderStartRadius=0))}));const x=m.map((n=>{var e,i;const a=(0,p.oA)({size:(null==(e=n.props)?void 0:e.size)||t.size,variant:(null==(i=n.props)?void 0:i.variant)||t.variant});return"Input"!==n.type.id?(0,r.cloneElement)(n,a):(0,r.cloneElement)(n,Object.assign(a,h,n.props))}));return r.createElement(a.m$.div,{className:f,ref:n,__css:{width:"100%",display:"flex",position:"relative"},...d},r.createElement(l,{value:e},x))}));h.displayName="InputGroup";var m={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},v=(0,a.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),x=(0,a.Gp)((function(t,n){const{placement:e="left",...i}=t,a=m[e]??{},u=f();return r.createElement(v,{ref:n,...i,__css:{...u.addon,...a}})}));x.displayName="InputAddon";var w=(0,a.Gp)((function(t,n){return r.createElement(x,{ref:n,placement:"left",...t,className:(0,s.cx)("chakra-input__left-addon",t.className)})}));w.displayName="InputLeftAddon",w.id="InputLeftAddon";var y=(0,a.Gp)((function(t,n){return r.createElement(x,{ref:n,placement:"right",...t,className:(0,s.cx)("chakra-input__right-addon",t.className)})}));y.displayName="InputRightAddon",y.id="InputRightAddon";var g=(0,a.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),I=(0,a.Gp)((function(t,n){const{placement:e="left",...i}=t,a=f(),u=a.field,s={["left"===e?"insetStart":"insetEnd"]:"0",width:(null==u?void 0:u.height)??(null==u?void 0:u.h),height:(null==u?void 0:u.height)??(null==u?void 0:u.h),fontSize:null==u?void 0:u.fontSize,...a.element};return r.createElement(g,{ref:n,__css:s,...i})}));I.id="InputElement",I.displayName="InputElement";var j=(0,a.Gp)((function(t,n){const{className:e,...i}=t,a=(0,s.cx)("chakra-input__left-element",e);return r.createElement(I,{ref:n,placement:"left",className:a,...i})}));j.id="InputLeftElement",j.displayName="InputLeftElement";var E=(0,a.Gp)((function(t,n){const{className:e,...i}=t,a=(0,s.cx)("chakra-input__right-element",e);return r.createElement(I,{ref:n,placement:"right",className:a,...i})}));E.id="InputRightElement",E.displayName="InputRightElement"},6402:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/verification",function(){return e(8120)}])},9724:function(t,n,e){"use strict";var r=e(1799),i=e(5893),a=e(3299),u=e(1163),s=e(36),o=e(840),c=e(7421),p=e(6112);n.Z=function(t){return function(n){var e=(0,u.useRouter)(),d=(0,a.useSession)().status;if("authenticated"==d&&e.push("/app/dashboard"),"authenticated"!==d&&"loading"!==d)return(0,i.jsxs)(o.xjn,{theme:s.v,children:[(0,i.jsx)(c.h,{}),(0,i.jsx)(t,(0,r.Z)({},n)),(0,i.jsx)(p.$,{})]})}}},4702:function(t,n,e){"use strict";e.d(n,{Fp:function(){return h},Nq:function(){return x},PR:function(){return m},TO:function(){return v},Zy:function(){return w},kX:function(){return y}});var r=e(7568),i=e(4051),a=e.n(i),u=e(5085),s=e(6452),o="/app/user",c="/app/user/get",p="/app/code",d="/app/user/update",l="/app/password/update",f="/app/user/remove",h=function(){return function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n((0,s.zD)(!0)),t.abrupt("return",u.ZP.get(o).then((function(t){var e=t.result;n((0,s.U2)(e))})).catch((function(t){n((0,s.zD)(!1))})));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},m=function(t){return function(){var n=(0,r.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e((0,s.zD)(!0)),n.abrupt("return",u.ZP.get(c+"/"+t).then((function(t){var n=t.result;e((0,s.Zr)(n))})).catch((function(t){e((0,s.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},v=function(t){return function(){var n=(0,r.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e((0,s.zD)(!0)),n.abrupt("return",u.ZP.get(p+"?token="+t).then((function(t){var n=t.result;e((0,s.Zr)(n))})).catch((function(t){e((0,s.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},x=function(t,n){return function(){var e=(0,r.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,s.zD)(!0)),e.abrupt("return",u.ZP.put(d+"/"+t,n).then((function(t){var n=t.result;r((0,s.Vx)(n))})).catch((function(t){r((0,s.zD)(!1))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(t,n){return function(){var e=(0,r.Z)(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,s.zD)(!0)),e.abrupt("return",u.ZP.put(l+"/"+t,n).then((function(t){var n=t.result;r((0,s.Vx)(n))})).catch((function(t){r((0,s.zD)(!1))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(t){return function(){var n=(0,r.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e((0,s.zD)(!0)),n.abrupt("return",u.ZP.delete(f+"/"+t).then((function(t){var n=t.result;e((0,s.Od)(n))})).catch((function(t){e((0,s.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}},8120:function(t,n,e){"use strict";e.r(n),e.d(n,{Verification:function(){return b},default:function(){return Z}});var r=e(5893),i=e(7294),a=e(9724),u=e(639),s=e(5500),o=e(1163),c=e(7568),p=e(1799),d=e(9396),l=e(828),f=e(4051),h=e.n(f),m=e(2175),v=e(7258),x=e(3234),w=e(979),y=e(7741),g=e(1954),I=e(9473),j=e(4702),E=function(t){var n=t.token,e=(0,l.Z)(i.useState(!1),2),a=e[0],u=e[1],s=function(){return u(!a)},o=(0,I.I0)(),f=(0,I.v9)((function(t){return t.user})),E=f.isLoading,b=f.user,Z=function(){var t=(0,c.Z)(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b){t.next=3;break}return t.next=3,o((0,j.Zy)(b._id,n));case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),k=v.object().shape({password:v.string().min(6,"Password must be more than 6 character").required(),cpassword:v.string().oneOf([v.ref("password"),null],"Passwords must match").required()});(0,i.useEffect)((function(){n&&_(n)}),[n]);var _=function(){var t=(0,c.Z)(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o((0,j.TO)(n));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,r.jsx)(m.J9,{onSubmit:function(t){Z(t)},validateOnBlur:!1,validateOnChange:!0,validationSchema:k,initialValues:{password:"",cpassword:""},children:function(t){return(0,r.jsxs)(m.l0,{autoComplete:"off",noValidate:!0,onSubmit:t.handleSubmit,children:[(0,r.jsxs)(x.NI,{isInvalid:t.errors.password&&t.touched.password,children:[(0,r.jsxs)(w.BZ,{mt:4,size:"md",children:[(0,r.jsx)(w.II,(0,d.Z)((0,p.Z)({},t.getFieldProps("password")),{pr:"4.5rem",type:a?"text":"password",placeholder:"Enter password",size:"lg"})),(0,r.jsx)(w.xH,{width:"4.5rem",children:a?(0,r.jsx)(g.JO,{onClick:s,icon:"mdi:eye-off",fontSize:24}):(0,r.jsx)(g.JO,{onClick:s,icon:"ic:sharp-remove-red-eye",fontSize:24})})]}),(0,r.jsx)(x.J1,{children:t.errors.password})]}),(0,r.jsxs)(x.NI,{isInvalid:t.errors.cpassword&&t.touched.cpassword,children:[(0,r.jsxs)(w.BZ,{mt:4,size:"md",children:[(0,r.jsx)(w.II,(0,d.Z)((0,p.Z)({},t.getFieldProps("cpassword")),{pr:"4.5rem",type:a?"text":"password",placeholder:"Confirm password",size:"lg"})),(0,r.jsx)(w.xH,{width:"4.5rem",children:a?(0,r.jsx)(g.JO,{onClick:s,icon:"mdi:eye-off",fontSize:24}):(0,r.jsx)(g.JO,{onClick:s,icon:"ic:sharp-remove-red-eye",fontSize:24})})]}),(0,r.jsx)(x.J1,{children:t.errors.cpassword})]}),(0,r.jsx)(y.zx,{isLoading:E,color:"white",type:"submit",style:{backgroundColor:"#F3BB45"},mt:4,width:"full",size:"lg",variant:"solid",children:"Save"})]})}})},b=function(){var t=(0,o.useRouter)().query.token;return(0,r.jsxs)(u.Kq,{minH:"100vh",direction:{base:"column",md:"row"},children:[(0,r.jsx)(s.p,{title:"Verification"}),(0,r.jsx)(u.kC,{p:8,flex:1,align:"center",justify:"center",children:(0,r.jsx)(u.Kq,{spacing:4,w:"full",maxW:"md",children:(0,r.jsx)(E,{token:t})})})]})},Z=(0,a.Z)(b)},828:function(t,n,e){"use strict";e.d(n,{Z:function(){return a}});var r=e(3375);var i=e(1566);function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||(0,r.Z)(t,n)||(0,i.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(t){t.O(0,[810,285,954,345,258,502,774,888,179],(function(){return n=6402,t(t.s=n);var n}));var n=t.O();_N_E=n}]);