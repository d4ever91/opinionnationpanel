(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{7289:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/history/[id]/edit",function(){return r(508)}])},1236:function(e,t,r){"use strict";r.d(t,{l:function(){return y}});var n=r(5893),u=r(1799),i=r(9396),a=r(3234),s=r(979),o=r(6880);function c(e){var t=e.formInput,r=e.formikProps;switch(t.type){case"multiselect":return(0,n.jsxs)(a.NI,{isInvalid:r.errors[t.key]&&r.touched[t.key],children:[(0,n.jsx)(o.ZP,(0,i.Z)((0,u.Z)({isMulti:!0},r.getFieldProps(t.key)),{onChange:function(e){r.setFieldValue(t.key,e)},options:t.options,placeholder:t.label,closeMenuOnSelect:!0})),(0,n.jsx)(a.J1,{children:r.errors[t.key]})]});case"textarea":default:return(0,n.jsxs)(a.NI,{isInvalid:r.errors[t.key]&&r.touched[t.key],children:[(0,n.jsx)(s.II,(0,i.Z)((0,u.Z)({},r.getFieldProps(t.key)),{type:t.type,placeholder:t.label,size:t.size})),(0,n.jsx)(a.J1,{children:r.errors[t.key]})]});case"select":return(0,n.jsxs)(a.NI,{isInvalid:r.errors[t.key]&&r.touched[t.key],children:[(0,n.jsx)(o.ZP,(0,i.Z)((0,u.Z)({},r.getFieldProps(t.key)),{onChange:function(e){r.setFieldValue(t.key,e)},options:t.options,placeholder:t.label,isClearable:t.isClearable,closeMenuOnSelect:!0})),(0,n.jsx)(a.J1,{children:r.errors[t.key]})]})}}var l=r(639),p=r(7741),f=r(2175),d=r(7258),m=r(9815);function h(e,t){var r=t.key,n=t.validationType,u=t.rules,i=void 0===u?[]:u;if(!d[n])return e;var a=d[n]();return i.forEach((function(e){var t,r=e.params,n=e.type;a[n]&&(a=(t=a)[n].apply(t,(0,m.Z)(r)))})),e[r]=a,e}function v(e){var t=e.isLoading,r=e.formInputs,u=e.actionButtonLabel,i=e.submitAction,a={};r.forEach((function(e){a[e.key]=e.defaultValue||""}));var s=r.reduce(h,{}),o=d.object().shape(s);return(0,n.jsx)(f.J9,{onSubmit:function(e){i(e)},validationSchema:o,validateOnBlur:!1,validateOnChange:!0,initialValues:a,children:function(e){return(0,n.jsxs)(f.l0,{autoComplete:"off",noValidate:!0,onSubmit:e.handleSubmit,children:[(0,n.jsx)(l.rj,{templateColumns:"repeat(3, 1fr)",gap:5,children:r.map((function(t,r){return(0,n.jsx)(l.P4,{w:"100%",children:(0,n.jsx)(c,{formikProps:e,formInput:t})},r)}))}),(0,n.jsx)(p.zx,{textTransform:"none",isLoading:t,type:"submit",colorScheme:"blue",mt:4,size:"md",variant:"solid",children:u||"Submit"})]})}})}function y(e){var t=e.isLoading,r=e.formInputs,u=e.actionButtonLabel,i=e.submitAction;return(0,n.jsx)(v,{isLoading:t,actionButtonLabel:u,formInputs:r,submitAction:i})}},4702:function(e,t,r){"use strict";r.d(t,{Fp:function(){return m},Nq:function(){return y},PR:function(){return h},TO:function(){return v},Zy:function(){return x},kX:function(){return k}});var n=r(7568),u=r(4051),i=r.n(u),a=r(5085),s=r(6452),o="/app/user",c="/app/user/get",l="/app/code",p="/app/user/update",f="/app/password/update",d="/app/user/remove",m=function(){return function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,s.zD)(!0)),e.abrupt("return",a.ZP.get(o).then((function(e){var r=e.result?e.result:e;t((0,s.U2)(r))})).catch((function(e){t((0,s.zD)(!1))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=(0,n.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r((0,s.zD)(!0)),t.abrupt("return",a.ZP.get(c+"/"+e).then((function(e){var t=e.result?e.result:e;r((0,s.Zr)(t))})).catch((function(e){r((0,s.zD)(!1))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,n.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r((0,s.zD)(!0)),t.abrupt("return",a.ZP.get(l+"?token="+e).then((function(e){var t=e.result?e.result:e;r((0,s.Zr)(t))})).catch((function(e){r((0,s.zD)(!1))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){return function(){var r=(0,n.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.put(p+"/"+e,t).then((function(e){var t=e.result?e.result:e;n((0,s.Vx)(t))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},x=function(e,t){return function(){var r=(0,n.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.put(f+"/"+e,t).then((function(e){var t=e.result?e.result:e;n((0,s.Vx)(t))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},k=function(e){return function(){var t=(0,n.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r((0,s.zD)(!0)),t.abrupt("return",a.ZP.delete(d+"/"+e).then((function(e){var t=e.result?e.result:e;r((0,s.Od)(t))})).catch((function(e){r((0,s.zD)(!1))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},508:function(e,t,r){"use strict";r.r(t),r.d(t,{EditSurvey:function(){return b}});var n=r(7568),u=r(1799),i=r(9396),a=r(4051),s=r.n(a),o=r(5893),c=r(7294),l=r(5152),p=r.n(l),f=r(49),d=r(5500),m=r(0),h=r(1236),v=r(639),y=r(9473),x=r(4702),k=r(1163),Z=r(4607),b=function(){var e=(0,k.useRouter)().query.id,t=(0,y.I0)(),r=(0,y.v9)((function(e){return e.module})).modules,a=(0,y.v9)((function(e){return e.user})),l=a.isLoading,p=a.user;(0,c.useEffect)((function(){e&&f(e)}),[e]);var f=function(){var e=(0,n.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t((0,x.PR)(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=[{key:"firstName",label:"First Name",type:"text",validationType:"string",defaultValue:p&&p.firstName,rules:[{type:"required",params:["First Name  is required"]}],size:"md"},{key:"lastName",label:"Last Name",type:"text",validationType:"string",defaultValue:p&&p.lastName,rules:[{type:"required",params:["Last Name is required"]}],size:"md"},{key:"email",label:"Email",type:"email",validationType:"string",defaultValue:p&&p.email,rules:[{type:"required",params:["Email is required"]},{type:"email",params:["Invalid email"]}],size:"md"},{key:"password",label:"Password",type:"text",validationType:"string",rules:[{type:"required",params:["Password is required"]}],size:"md"},{key:"module",label:"Permissions",type:"multiselect",validationType:"array",options:r.map((function(e){return(0,i.Z)((0,u.Z)({},e),{value:e._id})})),defaultValue:p&&p.module&&p.module.map((function(e){return(0,i.Z)((0,u.Z)({},e),{value:e._id})}))||[],size:"md"}],w=function(){var r=(0,n.Z)(s().mark((function r(n){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t((0,x.Nq)(e,n));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,o.jsxs)(v.xu,{children:[(0,o.jsx)(d.p,{title:"Users"}),(0,o.jsx)(m.Z,{title:"Edit User"}),l?(0,o.jsx)(Z.Z,{}):(0,o.jsx)(h.l,{isLoading:l,formInputs:b,submitAction:w})]})};t.default=p()((function(){return Promise.resolve((0,f.Z)(b))}),{ssr:!1})}},function(e){e.O(0,[285,954,387,345,258,212,432,774,888,179],(function(){return t=7289,e(e.s=t);var t}));var t=e.O();_N_E=t}]);