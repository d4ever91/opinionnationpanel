(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{1912:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/history/add",function(){return n(9107)}])},1236:function(e,r,n){"use strict";n.d(r,{l:function(){return h}});var t=n(5893),u=n(1799),i=n(9396),a=n(3234),s=n(979),o=n(6880);function c(e){var r=e.formInput,n=e.formikProps;switch(r.type){case"multiselect":return(0,t.jsxs)(a.NI,{isInvalid:n.errors[r.key]&&n.touched[r.key],children:[(0,t.jsx)(o.ZP,(0,i.Z)((0,u.Z)({isMulti:!0},n.getFieldProps(r.key)),{onChange:function(e){n.setFieldValue(r.key,e)},options:r.options,placeholder:r.label,closeMenuOnSelect:!0})),(0,t.jsx)(a.J1,{children:n.errors[r.key]})]});case"textarea":default:return(0,t.jsxs)(a.NI,{isInvalid:n.errors[r.key]&&n.touched[r.key],children:[(0,t.jsx)(s.II,(0,i.Z)((0,u.Z)({},n.getFieldProps(r.key)),{type:r.type,placeholder:r.label,size:r.size})),(0,t.jsx)(a.J1,{children:n.errors[r.key]})]});case"select":return(0,t.jsxs)(a.NI,{isInvalid:n.errors[r.key]&&n.touched[r.key],children:[(0,t.jsx)(o.ZP,(0,i.Z)((0,u.Z)({},n.getFieldProps(r.key)),{onChange:function(e){n.setFieldValue(r.key,e)},options:r.options,placeholder:r.label,isClearable:r.isClearable,closeMenuOnSelect:!0})),(0,t.jsx)(a.J1,{children:n.errors[r.key]})]})}}var p=n(639),l=n(7741),f=n(2175),d=n(7258),v=n(9815);function y(e,r){var n=r.key,t=r.validationType,u=r.rules,i=void 0===u?[]:u;if(!d[t])return e;var a=d[t]();return i.forEach((function(e){var r,n=e.params,t=e.type;a[t]&&(a=(r=a)[t].apply(r,(0,v.Z)(n)))})),e[n]=a,e}function m(e){var r=e.isLoading,n=e.formInputs,u=e.actionButtonLabel,i=e.submitAction,a={};n.forEach((function(e){a[e.key]=e.defaultValue||""}));var s=n.reduce(y,{}),o=d.object().shape(s);return(0,t.jsx)(f.J9,{onSubmit:function(e){i(e)},validationSchema:o,validateOnBlur:!1,validateOnChange:!0,initialValues:a,children:function(e){return(0,t.jsxs)(f.l0,{autoComplete:"off",noValidate:!0,onSubmit:e.handleSubmit,children:[(0,t.jsx)(p.rj,{templateColumns:"repeat(3, 1fr)",gap:5,children:n.map((function(r,n){return(0,t.jsx)(p.P4,{w:"100%",children:(0,t.jsx)(c,{formikProps:e,formInput:r})},n)}))}),(0,t.jsx)(l.zx,{textTransform:"none",isLoading:r,type:"submit",colorScheme:"blue",mt:4,size:"md",variant:"solid",children:u||"Submit"})]})}})}function h(e){var r=e.isLoading,n=e.formInputs,u=e.actionButtonLabel,i=e.submitAction;return(0,t.jsx)(m,{isLoading:r,actionButtonLabel:u,formInputs:n,submitAction:i})}},3768:function(e,r,n){"use strict";n.d(r,{n3:function(){return p},vb:function(){return c}});var t=n(7568),u=n(4051),i=n.n(u),a=n(5085),s=n(1374),o="/app/category",c=function(){return function(){var e=(0,t.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.ZP.get(o).then((function(e){var n=e.result?e.result:e;r((0,s.U2)(n))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},p=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",a.ZP.get(o+"/".concat(e)).then((function(e){var r=e.result?e.result:e;n((0,s.Zr)(r))})));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},2821:function(e,r,n){"use strict";n.d(r,{ME:function(){return l},x6:function(){return p}});var t=n(7568),u=n(4051),i=n.n(u),a=n(5085),s=n(622),o="/app/survey",c="/app/survey/add",p=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.post(o,e).then((function(e){var r=e.result?e.result:e;n((0,s.U2)(r))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},l=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.post(c,e).then((function(e){var r=e.result?e.result:e;n((0,s.IH)(r))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},4702:function(e,r,n){"use strict";n.d(r,{Fp:function(){return y},Nq:function(){return k},PR:function(){return m},TO:function(){return h},XA:function(){return b},Zy:function(){return Z},kX:function(){return x}});var t=n(7568),u=n(4051),i=n.n(u),a=n(5085),s=n(6452),o="/app/user",c="/app/user/get",p="/app/code",l="/app/reset/code",f="/app/user/update",d="/app/password/update",v="/app/user/remove",y=function(){return function(){var e=(0,t.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,s.zD)(!0)),e.abrupt("return",a.ZP.get(o).then((function(e){var n=e.result?e.result:e;r((0,s.U2)(n))})).catch((function(e){r((0,s.zD)(!1))})));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},m=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.get(c+"/"+e).then((function(e){var r=e.result?e.result:e;n((0,s.Zr)(r))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},h=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.get(p+"?token="+e).then((function(e){var r=e.result?e.result:e;n((0,s.Zr)(r))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},b=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.get(l+"?token="+e).then((function(e){var r=e.result?e.result:e;n((0,s.Zr)(r))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},k=function(e,r){return function(){var n=(0,t.Z)(i().mark((function n(t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t((0,s.zD)(!0)),n.abrupt("return",a.ZP.put(f+"/"+e,r).then((function(e){var r=e.result?e.result:e;t((0,s.Vx)(r))})).catch((function(e){t((0,s.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Z=function(e,r){return function(){var n=(0,t.Z)(i().mark((function n(t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t((0,s.zD)(!0)),n.abrupt("return",a.ZP.put(d+"/"+e,r).then((function(e){var r=e.result?e.result:e;t((0,s.Vx)(r))})).catch((function(e){t((0,s.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},x=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((0,s.zD)(!0)),r.abrupt("return",a.ZP.delete(v+"/"+e).then((function(e){var r=e.result?e.result:e;n((0,s.Od)(r))})).catch((function(e){n((0,s.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},9107:function(e,r,n){"use strict";n.r(r),n.d(r,{AddSurvey:function(){return z},default:function(){return j}});var t=n(7568),u=n(1799),i=n(9396),a=n(4051),s=n.n(a),o=n(5893),c=n(7294),p=n(5152),l=n.n(p),f=n(49),d=n(5500),v=n(0),y=n(1236),m=n(639),h=n(9473),b=n(4702),k=n(5085),Z=n(5282),x="/app/country",w=n(3768),g=n(2821),z=function(){var e=(0,h.I0)(),r=(0,h.v9)((function(e){return e.user})).users,n=(0,h.v9)((function(e){return e.country})).countries,a=(0,h.v9)((function(e){return e.category})).categories;(0,c.useEffect)((function(){p(),l(),f()}),[]);var p=function(){var r=(0,t.Z)(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(function(){var e=(0,t.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.ZP.get(x).then((function(e){var n=e.result?e.result:e;r((0,Z.U)(n))})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),l=function(){var r=(0,t.Z)(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((0,b.Fp)());case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),f=function(){var r=(0,t.Z)(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((0,w.vb)());case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),z=[{key:"surveyName",label:"Survey Name",type:"text",validationType:"string",rules:[{type:"required",params:["Survey Name  is required"]}],size:"md"},{key:"loi",label:"LOI",type:"number",validationType:"number",rules:[{type:"required",params:["LOI is required"]}],size:"md"},{key:"conversion",label:"Conversion",type:"number",validationType:"string",rules:[{type:"required",params:["Conversion is required"]}],size:"md"},{key:"cpi",label:"CPI",type:"number",validationType:"string",rules:[{type:"required",params:["CPI is required"]}],size:"md"},{key:"requiredCompletes",label:"Required Completes",type:"number",validationType:"string",rules:[{type:"required",params:["Complete is required"]}],size:"md"},{key:"category",label:"Category",type:"select",validationType:"object",rules:[{type:"required",params:["Category is required"]}],options:a&&a.map((function(e){return(0,i.Z)((0,u.Z)({},e),{label:e.name,value:e._id})})),size:"md"},{key:"user",label:"Manager",type:"select",validationType:"object",rules:[{type:"required",params:["Manger is required"]}],options:r&&r.map((function(e){return(0,i.Z)((0,u.Z)({},e),{label:e.email,value:e._id})})),size:"md"},{key:"country",label:"Countries",type:"select",validationType:"object",rules:[{type:"required",params:["Country is required"]}],options:n&&n.map((function(e){return(0,i.Z)((0,u.Z)({},e),{label:e.name,value:e._id})})),size:"md"},{key:"language",label:"Languages",type:"select",validationType:"object",rules:[{type:"required",params:["Country is required"]}],options:n&&n.map((function(e){return(0,i.Z)((0,u.Z)({},e),{label:e.name,value:e._id})})),size:"md"},{key:"surveyLiveUrl",label:"Survey Live URL",type:"text",validationType:"string",rules:[{type:"required",params:["Survey Live URL is required"]}],size:"md"},{key:"surveyTestUrl",label:"Survey Test URL",type:"text",validationType:"string",rules:[{type:"required",params:["Survey Test URL is required"]}],size:"md"}],j=function(){var r=(0,t.Z)(s().mark((function r(n){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((0,g.ME)(n));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,o.jsxs)(m.xu,{children:[(0,o.jsx)(d.p,{title:"Surveys"}),(0,o.jsx)(v.Z,{title:"New Survey"}),(0,o.jsx)(y.l,{formInputs:z,submitAction:j})]})},j=l()((function(){return Promise.resolve((0,f.Z)(z))}),{ssr:!1})}},function(e){e.O(0,[285,954,387,345,258,212,432,774,888,179],(function(){return r=1912,e(e.s=r);var r}));var r=e.O();_N_E=r}]);