(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{359:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/survey",function(){return r(8793)}])},3949:function(e,n,r){"use strict";r.d(n,{d:function(){return p}});var t=r(1799),i=r(5893),s=r(6696);function u(e){var n=e.columns;return(0,i.jsx)(s.Tr,{children:n.map((function(e,n){var r=e.headerAlign;return(0,i.jsx)(s.Th,{padding:"4",textAlign:r,textTransform:"none",bgColor:"#fafafa",borderTop:"1px solid #f2f4f9",children:e.title},n)}))})}var c=r(639),o=r(7026),l=r(1954),a=(r(7294),function(e){var n=e.pageNo,r=e.limit,t=e.total,s=e.changeAction,u=Math.ceil(Number(t)/Number(r));return(0,i.jsxs)(c.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(c.xu,{mt:"4",children:(0,i.jsxs)(o.Ph,{onChange:function(e){return s("limit",e.target.value)},size:"sm",defaultValue:r,children:[(0,i.jsx)("option",{value:10,children:"10"}),(0,i.jsx)("option",{value:20,children:"20"}),(0,i.jsx)("option",{value:30,children:"30"})]})}),(0,i.jsx)(c.xu,{mt:"4",children:(0,i.jsxs)(c.aV,{display:"flex",justifyContent:"right",children:[(0,i.jsx)(c.rU,{onClick:function(){return 1!=n&&s("pageNo",n-1)},children:(0,i.jsxs)(c.HC,{m:"0",p:"2",pt:"2",pb:"2",color:"blue.500",opacity:1==n?.5:1,borderRadius:"4",display:"flex",children:[(0,i.jsx)(l.JO,{fontSize:"23",icon:"grommet-icons:form-previous"}),(0,i.jsx)(c.xv,{children:"Previous"})]})}),(0,i.jsx)(c.rU,{onClick:function(){return n!=u&&s("pageNo",n+1)},children:(0,i.jsxs)(c.HC,{m:"0",p:"2",pt:"2",pb:"2",color:"blue.500",opacity:n==u?.5:1,borderRadius:"4",display:"flex",children:[(0,i.jsx)(c.xv,{children:"Next"}),(0,i.jsx)(l.JO,{fontSize:"23",icon:"grommet-icons:form-next"})]})})]})})]})}),d=r(6486);function f(e){var n=e.item,r=e.column,t=(0,d.get)(n,r.key),u=r.rowAlign;return(0,i.jsx)(s.Td,{padding:"4",textAlign:u,borderTop:"1px solid #f2f4f9",children:r.render?r.render(r,n):t})}function x(e){var n=e.data,r=e.columns;return(0,i.jsx)(i.Fragment,{children:n.map((function(e,n){return(0,i.jsx)(s.Tr,{children:r.map((function(n,r){return(0,i.jsx)(f,{item:e,column:n},"table-row-cell-".concat(r))}))},"table-body-".concat(n))}))})}function p(e){var n=e.data,r=e.meta,c=e.columns,o=e.navigation,l=e.changeAction;return(0,i.jsxs)(s.xJ,{children:[(0,i.jsxs)(s.iA,{size:"lg",children:[(0,i.jsx)(s.hr,{children:(0,i.jsx)(u,{columns:c})}),(0,i.jsx)(s.p3,{children:n.length?(0,i.jsx)(x,{data:n,columns:c}):(0,i.jsx)(s.Tr,{children:(0,i.jsx)(s.Td,{textAlign:"center",align:"center",colSpan:8,children:"No Data Found"})})})]}),r&&n&&n.length>0&&"page"==o&&(0,i.jsx)(a,(0,t.Z)({changeAction:l},r))]})}},1961:function(e,n,r){"use strict";var t=r(5893),i=r(3835),s=r(7741),u=r(7294);n.Z=function(e){var n=e.onClose,r=e.isOpen,c=e.onSubmit,o=u.useRef();return(0,t.jsx)(i.aR,{isOpen:r,leastDestructiveRef:o,onClose:n,children:(0,t.jsx)(i.dh,{children:(0,t.jsxs)(i._T,{children:[(0,t.jsx)(i.fY,{fontSize:"lg",fontWeight:"bold",children:"Delete"}),(0,t.jsx)(i.iP,{children:"Are you sure?"}),(0,t.jsxs)(i.xo,{children:[(0,t.jsx)(s.zx,{ref:o,onClick:n,children:"Cancel"}),(0,t.jsx)(s.zx,{colorScheme:"red",onClick:c,ml:3,children:"Delete"})]})]})})})}},4702:function(e,n,r){"use strict";r.d(n,{Fp:function(){return h},Nq:function(){return b},PR:function(){return j},TO:function(){return v},XA:function(){return m},Zy:function(){return y},kX:function(){return g}});var t=r(7568),i=r(4051),s=r.n(i),u=r(5085),c=r(6452),o="/app/user",l="/app/user/get",a="/app/code",d="/app/reset/code",f="/app/user/update",x="/app/password/update",p="/app/user/remove",h=function(){return function(){var e=(0,t.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,c.zD)(!0)),e.abrupt("return",u.ZP.get(o).then((function(e){var r=e.result?e.result:e;n((0,c.U2)(r))})).catch((function(e){n((0,c.zD)(!1))})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},j=function(e){return function(){var n=(0,t.Z)(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r((0,c.zD)(!0)),n.abrupt("return",u.ZP.get(l+"/"+e).then((function(e){var n=e.result?e.result:e;r((0,c.Zr)(n))})).catch((function(e){r((0,c.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var n=(0,t.Z)(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r((0,c.zD)(!0)),n.abrupt("return",u.ZP.get(a+"?token="+e).then((function(e){var n=e.result?e.result:e;r((0,c.Zr)(n))})).catch((function(e){r((0,c.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},m=function(e){return function(){var n=(0,t.Z)(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r((0,c.zD)(!0)),n.abrupt("return",u.ZP.get(d+"?token="+e).then((function(e){var n=e.result?e.result:e;r((0,c.Zr)(n))})).catch((function(e){r((0,c.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},b=function(e,n){return function(){var r=(0,t.Z)(s().mark((function r(t){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t((0,c.zD)(!0)),r.abrupt("return",u.ZP.put(f+"/"+e,n).then((function(e){var n=e.result?e.result:e;t((0,c.Vx)(n))})).catch((function(e){t((0,c.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},y=function(e,n){return function(){var r=(0,t.Z)(s().mark((function r(t){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t((0,c.zD)(!0)),r.abrupt("return",u.ZP.put(x+"/"+e,n).then((function(e){var n=e.result?e.result:e;t((0,c.Vx)(n))})).catch((function(e){t((0,c.zD)(!1))})));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},g=function(e){return function(){var n=(0,t.Z)(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r((0,c.zD)(!0)),n.abrupt("return",u.ZP.delete(p+"/"+e).then((function(e){var n=e.result?e.result:e;r((0,c.Od)(n))})).catch((function(e){r((0,c.zD)(!1))})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},4703:function(e,n,r){"use strict";r.d(n,{_:function(){return t}});var t=[{label:"Active",value:1,color:"blue"},{label:"Paused",value:2,color:"blue"},{label:"Draft",value:3,color:"blue"},{label:"Closed",value:4,color:"blue"}]},8793:function(e,n,r){"use strict";r.r(n),r.d(n,{SurveyList:function(){return z}});var t=r(7568),i=r(1799),s=r(4051),u=r.n(s),c=r(5893),o=r(7294),l=r(5152),a=r.n(l),d=r(49),f=r(5500),x=r(3949),p=r(639),h=r(9653),j=r(8034),v=r(9473),m=r(4702),b=r(0),y=r(1954),g=r(4607),w=r(1961),C=r(1163),k=r(4703),z=function(){var e=(0,C.useRouter)(),n=(0,o.useState)({}),r=n[0],s=n[1],l=(0,v.I0)(),a=(0,v.v9)((function(e){return e.survey})),d=a.isLoading,z=a.surveys,Z=(a.users,a.statuses,a.countries,a.meta),S=(function(){var e=(0,t.Z)(u().mark((function e(n,t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.label&&(t=t.value),t?r[n]=t:delete r[n],s((0,i.Z)({},r));case 3:case"end":return e.stop()}}),e)})))}(),[{key:"status",title:"Status",width:200,render:function(e,n){var r=n.status;return(0,c.jsxs)(p.xu,{display:"flex",children:[(0,c.jsx)(y.JO,{icon:"ci:dot-04-l",color:k._.find((function(e){return e.value==r})).color,fontSize:24}),(0,c.jsx)(p.xv,{children:k._.find((function(e){return e.value==r})).label})]})}},{key:"surveyName",title:"Survey Name",width:200},{key:"points",title:"Points",width:200},{key:"note",title:"Notes",width:200},{key:"_id",title:"Action",width:200,render:function(n,r){var i=r._id,s=r.surveyStatus,o=(0,h.qY)(),a=o.isOpen,d=o.onOpen,f=o.onClose,x=function(){var e=(0,t.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l((0,m.kX)(i));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)(p.kC,{children:[(0,c.jsx)(w.Z,{isOpen:a,onClose:f,onSubmit:x}),1==s&&(0,c.jsx)(p.rU,{marginRight:"3","aria-label":"Edit",onClick:function(){return e.push("/app/survey/".concat(i,"/edit"))},children:(0,c.jsx)(y.JO,{fontSize:24,icon:"carbon:play-filled-alt",color:"#cad6f3"})}),2==s&&(0,c.jsx)(p.rU,{marginRight:"3","aria-label":"Edit",onClick:function(){return e.push("/app/survey/".concat(i,"/edit"))},children:(0,c.jsx)(y.JO,{fontSize:24,icon:"material-symbols:pause",color:"#cad6f3"})}),(0,c.jsx)(p.rU,{marginRight:"3","aria-label":"Edit",onClick:d,children:(0,c.jsx)(y.JO,{fontSize:24,icon:"fa-regular:clone",color:"#cad6f3"})}),(0,c.jsx)(p.rU,{marginRight:"3","aria-label":"Delete",onClick:d,children:(0,c.jsx)(y.JO,{fontSize:24,icon:"ion:stats-chart",color:"#cad6f3"})})]},i)}}]);return(0,c.jsxs)(p.xu,{children:[(0,c.jsx)(f.p,{title:"Surveys"}),(0,c.jsx)(b.Z,{title:"Surveys"}),d?(0,c.jsx)(g.Z,{}):(0,c.jsxs)(p.rj,{templateColumns:"repeat(4, 1fr)",gap:5,children:[(0,c.jsx)(p.xu,{style:{border:"1px solid rgba(0, 0, 0, 0.18)"},display:"flex",justifyContent:"space-between",alignItems:"center",bgColor:"#fff",padding:"4",borderRadius:"8px",children:(0,c.jsx)(p.xu,{display:"flex",justifyContent:"left",children:(0,c.jsxs)(p.xu,{ml:"4",children:[(0,c.jsx)(p.X6,{as:"h6",size:"sm",mb:"2",children:"Available Surveys"}),(0,c.jsx)(p.xv,{sx:{color:"#74758F"},children:"0"})]})})}),(0,c.jsx)(p.xu,{style:{border:"1px solid rgba(0, 0, 0, 0.18)"},display:"flex",justifyContent:"space-between",alignItems:"center",bgColor:"#fff",padding:"4",borderRadius:"8px",children:(0,c.jsx)(p.xu,{display:"flex",justifyContent:"left",children:(0,c.jsxs)(p.xu,{ml:"4",children:[(0,c.jsx)(p.X6,{as:"h6",size:"sm",mb:"2",children:"Attempted Surveys"}),(0,c.jsx)(p.xv,{sx:{color:"#74758F"},children:"0"})]})})}),(0,c.jsx)(p.xu,{style:{border:"1px solid rgba(0, 0, 0, 0.18)"},display:"flex",justifyContent:"space-between",alignItems:"center",bgColor:"#fff",padding:"4",borderRadius:"8px",children:(0,c.jsx)(p.xu,{display:"flex",justifyContent:"left",children:(0,c.jsxs)(p.xu,{ml:"4",children:[(0,c.jsx)(p.X6,{as:"h6",size:"sm",mb:"2",children:"Completed Surveys"}),(0,c.jsx)(p.xv,{sx:{color:"#74758F"},children:"0"})]})})}),(0,c.jsx)(p.xu,{style:{border:"1px solid rgba(0, 0, 0, 0.18)"},display:"flex",justifyContent:"space-between",alignItems:"center",bgColor:"#fff",padding:"4",borderRadius:"8px",children:(0,c.jsx)(p.xu,{display:"flex",justifyContent:"left",children:(0,c.jsxs)(p.xu,{ml:"4",children:[(0,c.jsx)(p.X6,{as:"h6",size:"sm",mb:"2",children:"Disqualified Surveys"}),(0,c.jsx)(p.xv,{sx:{color:"#74758F"},children:"0"})]})})})]}),(0,c.jsx)(p.xu,{sx:{mt:10},bgColor:"white",children:(0,c.jsxs)(j.mQ,{variant:"enclosed",children:[(0,c.jsxs)(j.td,{children:[(0,c.jsx)(j.OK,{children:"Available Surveys"}),(0,c.jsx)(j.OK,{children:"All Surveys"})]}),(0,c.jsxs)(j.nP,{children:[(0,c.jsx)(j.x4,{children:(0,c.jsx)(x.d,{data:z,meta:Z,columns:S})}),(0,c.jsx)(j.x4,{children:(0,c.jsx)(x.d,{data:z,meta:Z,columns:S})})]})]})})]})};n.default=a()((function(){return Promise.resolve((0,d.Z)(z))}),{ssr:!1})}},function(e){e.O(0,[662,285,954,387,42,432,774,888,179],(function(){return n=359,e(e.s=n);var n}));var n=e.O();_N_E=n}]);