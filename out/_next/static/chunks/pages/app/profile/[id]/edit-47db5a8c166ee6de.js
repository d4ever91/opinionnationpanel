(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{3749:function(e,n,t){"use strict";t.d(n,{XZ:function(){return z}});var r=t(7294),i=t(8387),o=t(9251),a=(t(8053),t(2067)),s=t(6050),c=t(5820),u=t(4520),l=t(3234),d=t(4040),p=t(5314),f=t(6734),h={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},m=(0,a.m$)("span",{baseStyle:h});m.displayName="VisuallyHidden",(0,a.m$)("input",{baseStyle:h}).displayName="VisuallyHiddenInput";var v=!1,b=null,y=!1,k=new Set,x="undefined"!==typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function g(e,n){k.forEach((t=>t(e,n)))}function w(e){y=!0,function(e){return!(e.metaKey||!x&&e.altKey||e.ctrlKey)}(e)&&(b="keyboard",g("keyboard",e))}function _(e){b="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(y=!0,g("pointer",e))}function C(e){e.target!==window&&e.target!==document&&(y||(b="keyboard",g("keyboard",e)),y=!1)}function E(){y=!1}function j(){return"pointer"!==b}function I(e){!function(){if("undefined"===typeof window||v)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){y=!0,e.apply(this,n)},document.addEventListener("keydown",w,!0),document.addEventListener("keyup",w,!0),window.addEventListener("focus",C,!0),window.addEventListener("blur",E,!1),"undefined"!==typeof PointerEvent?(document.addEventListener("pointerdown",_,!0),document.addEventListener("pointermove",_,!0),document.addEventListener("pointerup",_,!0)):(document.addEventListener("mousedown",_,!0),document.addEventListener("mousemove",_,!0),document.addEventListener("mouseup",_,!0)),v=!0}(),e(j());const n=()=>e(j());return k.add(n),()=>{k.delete(n)}}var[q,N]=(0,i.k)({name:"CheckboxGroupContext",strict:!1}),P=(...e)=>e.filter(Boolean).join(" ");var Z=e=>e?"":void 0;function S(...e){return function(n){e.some((e=>(null==e||e(n),null==n?void 0:n.defaultPrevented)))}}var L=(0,a.m$)(s.E.svg);function D(e){return r.createElement(L,{width:"1.2em",viewBox:"0 0 12 10",variants:{unchecked:{opacity:0,strokeDashoffset:16},checked:{opacity:1,strokeDashoffset:0,transition:{duration:.2}}},style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e},r.createElement("polyline",{points:"1.5 6 4.5 9 10.5 1"}))}function M(e){return r.createElement(L,{width:"1.2em",viewBox:"0 0 24 24",variants:{unchecked:{scaleX:.65,opacity:0},checked:{scaleX:1,opacity:1,transition:{scaleX:{duration:0},opacity:{duration:.02}}}},style:{stroke:"currentColor",strokeWidth:4},...e},r.createElement("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))}function F({open:e,children:n}){return r.createElement(c.M,{initial:!1},e&&r.createElement(s.E.div,{variants:{unchecked:{scale:.5},checked:{scale:1}},initial:"unchecked",animate:"checked",exit:"unchecked",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},n))}function O(e){const{isIndeterminate:n,isChecked:t,...i}=e,o=n?M:D;return r.createElement(F,{open:t||n},r.createElement(o,{...i}))}function X(e={}){const n=(0,l.Kn)(e),{isDisabled:t,isReadOnly:i,isRequired:a,isInvalid:s,id:c,onBlur:u,onFocus:m,"aria-describedby":v}=n,{defaultChecked:b,isChecked:y,isFocusable:k,onChange:x,isIndeterminate:g,name:w,value:_,tabIndex:C,"aria-label":E,"aria-labelledby":j,"aria-invalid":q,...N}=e,P=function(e,n=[]){const t=Object.assign({},e);for(const r of n)r in t&&delete t[r];return t}(N,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),L=(0,o.W)(x),D=(0,o.W)(u),M=(0,o.W)(m),[F,O]=(0,r.useState)(!1),[X,R]=(0,r.useState)(!1),[W,z]=(0,r.useState)(!1),[K,T]=(0,r.useState)(!1);(0,r.useEffect)((()=>I(O)),[]);const J=(0,r.useRef)(null),[U,$]=(0,r.useState)(!0),[A,G]=(0,r.useState)(!!b),H=void 0!==y,V=H?y:A,Q=(0,r.useCallback)((e=>{i||t?e.preventDefault():(H||G(V?e.target.checked:!!g||e.target.checked),null==L||L(e))}),[i,t,V,H,g,L]);(0,d.G)((()=>{J.current&&(J.current.indeterminate=Boolean(g))}),[g]),(0,p.r)((()=>{t&&R(!1)}),[t,R]),(0,d.G)((()=>{const e=J.current;(null==e?void 0:e.form)&&(e.form.onreset=()=>{G(!!b)})}),[]);const Y=t&&!k,ee=(0,r.useCallback)((e=>{" "===e.key&&T(!0)}),[T]),ne=(0,r.useCallback)((e=>{" "===e.key&&T(!1)}),[T]);(0,d.G)((()=>{if(!J.current)return;J.current.checked!==V&&G(J.current.checked)}),[J.current]);const te=(0,r.useCallback)(((e={},n=null)=>({...e,ref:n,"data-active":Z(K),"data-hover":Z(W),"data-checked":Z(V),"data-focus":Z(X),"data-focus-visible":Z(X&&F),"data-indeterminate":Z(g),"data-disabled":Z(t),"data-invalid":Z(s),"data-readonly":Z(i),"aria-hidden":!0,onMouseDown:S(e.onMouseDown,(e=>{X&&e.preventDefault(),T(!0)})),onMouseUp:S(e.onMouseUp,(()=>T(!1))),onMouseEnter:S(e.onMouseEnter,(()=>z(!0))),onMouseLeave:S(e.onMouseLeave,(()=>z(!1)))})),[K,V,t,X,F,W,g,s,i]),re=(0,r.useCallback)(((e={},n=null)=>({...P,...e,ref:(0,f.lq)(n,(e=>{e&&$("LABEL"===e.tagName)})),onClick:S(e.onClick,(()=>{var e;U||(null==(e=J.current)||e.click(),requestAnimationFrame((()=>{var e;null==(e=J.current)||e.focus()})))})),"data-disabled":Z(t),"data-checked":Z(V),"data-invalid":Z(s)})),[P,t,V,s,U]),ie=(0,r.useCallback)(((e={},n=null)=>({...e,ref:(0,f.lq)(J,n),type:"checkbox",name:w,value:_,id:c,tabIndex:C,onChange:S(e.onChange,Q),onBlur:S(e.onBlur,D,(()=>R(!1))),onFocus:S(e.onFocus,M,(()=>R(!0))),onKeyDown:S(e.onKeyDown,ee),onKeyUp:S(e.onKeyUp,ne),required:a,checked:V,disabled:Y,readOnly:i,"aria-label":E,"aria-labelledby":j,"aria-invalid":q?Boolean(q):s,"aria-describedby":v,"aria-disabled":t,style:h})),[w,_,c,Q,D,M,ee,ne,a,V,Y,i,E,j,q,s,v,t,C]),oe=(0,r.useCallback)(((e={},n=null)=>({...e,ref:n,onMouseDown:S(e.onMouseDown,B),onTouchStart:S(e.onTouchStart,B),"data-disabled":Z(t),"data-checked":Z(V),"data-invalid":Z(s)})),[V,t,s]);return{state:{isInvalid:s,isFocused:X,isChecked:V,isActive:K,isHovered:W,isIndeterminate:g,isDisabled:t,isReadOnly:i,isRequired:a},getRootProps:re,getCheckboxProps:te,getInputProps:ie,getLabelProps:oe,htmlProps:P}}function B(e){e.preventDefault(),e.stopPropagation()}var R={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},W={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},z=(0,a.Gp)((function(e,n){const t=N(),i={...t,...e},o=(0,a.jC)("Checkbox",i),s=(0,u.Lr)(e),{spacing:c="0.5rem",className:l,children:d,iconColor:p,iconSize:f,icon:h=r.createElement(O,null),isChecked:m,isDisabled:v=(null==t?void 0:t.isDisabled),onChange:b,inputProps:y,...k}=s;let x=m;(null==t?void 0:t.value)&&s.value&&(x=t.value.includes(s.value));let g=b;(null==t?void 0:t.onChange)&&s.value&&(g=function(...e){return function(n){e.forEach((e=>{null==e||e(n)}))}}(t.onChange,b));const{state:w,getInputProps:_,getCheckboxProps:C,getLabelProps:E,getRootProps:j}=X({...k,isDisabled:v,isChecked:x,onChange:g}),I=(0,r.useMemo)((()=>({opacity:w.isChecked||w.isIndeterminate?1:0,transform:w.isChecked||w.isIndeterminate?"scale(1)":"scale(0.95)",fontSize:f,color:p,...o.icon})),[p,f,w.isChecked,w.isIndeterminate,o.icon]),q=(0,r.cloneElement)(h,{__css:I,isIndeterminate:w.isIndeterminate,isChecked:w.isChecked});return r.createElement(a.m$.label,{__css:{...W,...o.container},className:P("chakra-checkbox",l),...j()},r.createElement("input",{className:"chakra-checkbox__input",..._(y,n)}),r.createElement(a.m$.span,{__css:{...R,...o.control},className:"chakra-checkbox__control",...C()},q),d&&r.createElement(a.m$.span,{className:"chakra-checkbox__label",...E(),__css:{marginStart:c,...o.label}},d))}));z.displayName="Checkbox"},2316:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/profile/[id]/edit",function(){return t(2243)}])},3768:function(e,n,t){"use strict";t.d(n,{n3:function(){return l},vb:function(){return u}});var r=t(7568),i=t(4051),o=t.n(i),a=t(5085),s=t(1374),c="/app/category",u=function(){return function(){var e=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.ZP.get(c).then((function(e){var t=e.result;n((0,s.U2)(t))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,r.Z)(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",a.ZP.get(c+"/".concat(e)).then((function(e){var n=e.result;t((0,s.Zr)(n))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},2243:function(e,n,t){"use strict";t.r(n),t.d(n,{QuestionsList:function(){return L},default:function(){return D}});var r=t(7568),i=t(4051),o=t.n(i),a=t(5893),s=t(7294),c=t(5152),u=t.n(c),l=t(5149),d=t(5500),p=t(0),f=t(639),h=t(9473),m=t(1163),v=t(4607),b=t(5085),y=t(8792),k="/app/profile/question",x=function(e){return function(){var n=(0,r.Z)(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",b.ZP.get(k+"/".concat(e)).then((function(e){var n=e.result;t((0,y.U)(n))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=t(7741),w=t(2175),_=t(1799),C=t(9396),E=t(3234),j=t(979),I=t(3749),q=t(6880);function N(e){var n=e.category,t=e.question,r=e.formikProps,i=e.push,o=e.remove,s=e.setFieldData;switch(t.questionType){case 1:return(0,a.jsxs)(E.NI,{isInvalid:r.errors[t._id]&&r.touched[t._id],children:[(0,a.jsx)(E.lX,{style:{fontWeight:"bold"},mb:"4",className:"select",children:t.questionName}),(0,a.jsx)(q.ZP,(0,C.Z)((0,_.Z)({isMulti:!0},r.getFieldProps(t._id)),{onChange:function(e){s(t._id,r.values.data,i,o,{question:t._id,category:n,options:e})},options:t.options,placeholder:t.label,closeMenuOnSelect:!0})),(0,a.jsx)(E.J1,{children:r.errors[t._id]})]});case 2:return(0,a.jsxs)(E.NI,{isInvalid:r.errors[t._id]&&r.touched[t._id],children:[(0,a.jsx)(E.lX,{style:{fontWeight:"bold"},mb:"4",className:"select",children:t.questionName}),(0,a.jsx)(j.II,(0,C.Z)((0,_.Z)({},r.getFieldProps(t._id)),{type:t.type,placeholder:t.label,size:t.size})),(0,a.jsx)(E.J1,{children:r.errors[t._id]})]});case 3:return(0,a.jsxs)(E.NI,{isInvalid:r.errors[t._id]&&r.touched[t._id],children:[(0,a.jsx)(E.lX,{style:{fontWeight:"bold"},mb:"4",className:"select",children:t.questionName}),(0,a.jsx)(q.ZP,(0,C.Z)((0,_.Z)({},r.getFieldProps(t._id)),{onChange:function(e){s(t._id,r.values.data,i,o,{question:t._id,category:n,options:e.optionId})},options:t.questionOption&&t.questionOption.map((function(e){return(0,C.Z)((0,_.Z)({},e),{label:e.title,value:e.optionId})})),isClearable:t.isClearable,closeMenuOnSelect:!0})),(0,a.jsx)(E.J1,{children:r.errors[t.key]})]});case 4:return(0,a.jsxs)(E.NI,{isInvalid:r.errors[t._id]&&r.touched[t._id],children:[(0,a.jsx)(E.lX,{style:{fontWeight:"bold"},mb:"4",className:"checkbox",children:t.questionName}),t.questionOption.map((function(e){return(0,a.jsx)(f.kC,{mb:"2",children:(0,a.jsx)(I.XZ,{value:e.optionId,onChange:function(e){s(t._id,r.values.data,i,o,{question:t._id,category:n,options:e.target.value})},children:e.title})},e.optionId)})),(0,a.jsx)(E.J1,{children:r.errors[t._id]})]});default:return(0,a.jsxs)(E.NI,{isInvalid:r.errors[t._id]&&r.touched[t._id],children:[(0,a.jsx)(E.lX,{style:{fontWeight:"bold"},mb:"4",className:"checkbox",children:t.questionName}),(0,a.jsx)(j.II,(0,C.Z)((0,_.Z)({},r.getFieldProps(t._id)),{type:t.type,placeholder:t.label,size:t.size})),(0,a.jsx)(E.J1,{children:r.errors[t._id]})]})}}var P="/app/profile/question/update";var Z=function(e){var n=e.questions,t=e.category,i=function(){var e=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,i=n,b.ZP.post(P+"/".concat(r),i).then((function(e){return e.result}));case 2:case"end":return e.stop()}var r,i}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(e,n,t,r,i){var o=n.findIndex((function(n){return n.question==e}));-1!==o&&r(o),t(i)};return(0,a.jsx)(w.J9,{onSubmit:function(e){i(e)},validateOnBlur:!1,validateOnChange:!0,initialValues:{data:[]},children:function(e){return(0,a.jsxs)(w.l0,{autoComplete:"off",noValidate:!0,onSubmit:e.handleSubmit,children:[(0,a.jsx)(f.rj,{templateColumns:"repeat(1, 1fr)",gap:5,children:n.map((function(n,r){return(0,a.jsx)(f.P4,{w:"100%",children:(0,a.jsx)(w.F2,{name:"data",children:function(r){var i=r.push,o=r.remove;return(0,a.jsx)(N,{setFieldData:s,push:i,remove:o,category:t,formikProps:e,question:n})}})},r)}))}),(0,a.jsx)(g.zx,{textTransform:"none",type:"submit",colorScheme:"blue",mt:4,size:"md",variant:"solid",children:"Save"})]})}})},S=t(3768),L=function(){var e=(0,m.useRouter)().query.id,n=(0,h.I0)(),t=(0,h.v9)((function(e){return e.question})),i=t.isLoading,c=t.questions,u=(0,h.v9)((function(e){return e.category})).category;(0,s.useEffect)((function(){e&&(l(e),b(e))}),[e]);var l=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(x(t));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,S.n3)(t));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,a.jsxs)(f.xu,{children:[(0,a.jsx)(d.p,{title:u.name}),(0,a.jsx)(p.Z,{title:u.name}),i?(0,a.jsx)(v.Z,{}):(0,a.jsx)(Z,{questions:c,category:u._id})]})},D=u()((function(){return Promise.resolve((0,l.Z)(L))}),{ssr:!1})}},function(e){e.O(0,[285,954,387,345,212,985,774,888,179],(function(){return n=2316,e(e.s=n);var n}));var n=e.O();_N_E=n}]);